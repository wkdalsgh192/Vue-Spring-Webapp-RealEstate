<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssafy.happyhouse.model.mapper.HouseMapMapper">
	<select id="getSido" resultType="sido">
	    <![CDATA[SELECT sido_code, sido_name FROM sidocode ORDER BY sido_code]]>
	</select>
	
	<select id="getGugunInSido" resultType="gugun" parameterType="string">
	    <![CDATA[SELECT gugun_code, gugun_name FROM guguncode WHERE SUBSTRING(gugun_code,1,2) = #{sido} ORDER BY gugun_name]]>
	</select>
	
	<select id="getDongInGugun" resultType="HashMap" parameterType="string">
	    <![CDATA[SELECT distinct dong, dongcode FROM dongcode WHERE substring(dongcode, 1, 5) = #{gugun} ORDER BY dong]]>
	</select>

	<select id="getAptInDong" resultType="houseinfo" parameterType="String">
	    <![CDATA[SELECT no,dong,code,AptName,jibun,lat,lng FROM houseinfo WHERE code = #{dongcode} ORDER BY AptName]]>
	</select>
	  
	<select id="getDealInDong" resultType="housedeal" parameterType="String">
	    <![CDATA[SELECT no,dong,code,AptName, dealAmount, area, jibun FROM housedeal WHERE code = #{dongcode} ORDER BY AptName]]>
	</select>

</mapper>